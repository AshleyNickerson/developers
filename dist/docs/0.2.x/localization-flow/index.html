<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Clustering Reference - v0.2.x | Qordoba - Strings Intelligence Platform..</title>
  <meta name="description" content="Create a fully automated strings management solution">
  <meta name="author" content="Qordoba"/>
  <meta property="og:title" content="Strings Intelligence Platform.."/>
  <meta property="og:site_name" content="Qordoba"/>
  <link rel="prefetch" href="/assets/images/qordoba-white-logo.png" /><link rel="prefetch" href="/assets/images/icons/icn-documentation.svg" /><link rel="prefetch" href="/assets/images/qordobalogoblue.png" /><link rel="dns-prefetch" href="https://buttons.github.io" /><link rel="dns-prefetch" href="https://platform.twitter.com" /><link rel="dns-prefetch" href="https://connect.facebook.net" /><link rel="dns-prefetch" href="//mashape.github.io" />
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.png"/>
  <link rel="stylesheet" href="/assets/styles.css?v=1529002709"/>
</head>


  <body id="" >
    <header class="site-header">
  <div class="enterprise">
        <div class="container">
       <nav class="enterprise-sites one-half column">
         <ul>
           <li>
             <a href="https://qordoba.com/customers/" target="_blank">Customers</a>
           </li>
           <li>
             <a href="https://qordoba.com/partners/" target="_blank" >Partners</a>
           </li>
         </ul>
       </nav>   
      <nav class="enterprise-contact one-half column">
        <ul>
          <li>
            <a href="https://support.qordoba.com/" target="_blank">Support</a>
          </li>
          <li>
            <a href="http://go.qordoba.com/WF-Request-A-Demo__LP-DevDocs-Header.html">Request Demo</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand">
        <img src="/assets/images/qordoba-white-logo.png" alt="Qordoba" style="height: 35px;" >
      </a>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li>
            <a href="/docs/"  class="active" >Docs</a>
          </li>
          <li>
            <a href="/ecosystem" >Ecosystem</a>
          </li>
          <li>
            <a href="/security/" >Security</a>
          </li>
          <li>
            <a href="https://github.com/Qordobacode/" target="_blank">Code</a>
          </li>
           <li>
            <a href="/api/" >API</a>
          </li>
          <li>
            <a href="/install" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>Installation</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .navbar -->
</header>


    <header class="page-header">
  <div class="container">
    <div class="page-header-icon">
      <img src="/assets/images/icons/icn-documentation.svg" alt="Documentation" />
    </div>
    <div class="page-header-title">
      <h1>Documentation</h1>
      <p>Learn how Qordoba platform empowers your apps</p>
    </div>

    
  </div>
</header>

<div class="container">
  <aside class="page-navigation">
    

    
    <nav>
      
      <h5>Getting Started</h5>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.2.x/getting-started/introduction" >Introduction</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/getting-started/personas-definition" >Personas definition</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/getting-started/placeholders" >Placeholders</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/getting-started/api-libraries" >API libraries</a>
          
        </li>
        
      </ul>
    </nav>
    
    <nav>
      
      <h5>CLI Reference</h5>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.2.x/cli" >Commands</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.2.x/cli/#start" >Start</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/cli/#Push" >Push</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/cli/#Pull" >Pull</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/cli/#add" >Add key</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/cli/#reload" >Status</a>
            </li>
            
          </ul>
          
        </li>
        
      </ul>
    </nav>
    
    <nav>
      
      <h5>API endpoints</h5>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.2.x/api/" >Introduction</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/api/#supported-content-types" >Supported Content Types</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/admin-api/#api-object" >Workspaces</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#list" >List workspaces</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#details" >Workspace details</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#workflow" >Workspace workflow</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/admin-api/#consumer-object" >File</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#create-consumer" >List files</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#retrieve-consumer" >Upload file</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#list-consumers" >Upload file</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#update-consumer" >Export file</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#update-or-create-consumer" >Delete file</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/0.2.x/admin-api/#plugin-configuration-object" >Strings</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#create-plugin-configuration" >Create key</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#list-per-api-plugin-configurations" >List file strings</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#list-all-plugin-configurations" >Update string</a>
            </li>
            
            
            <li>
              <a href="/docs/0.2.x/admin-api/#update-plugin-configuration" >Value by key</a>
            </li>
            
          </ul>
          
        </li>
        
      </ul>
    </nav>
    
  </aside>

  <div class="page-content-container" id="documentation">
    <div class="page-content">
      <div class="content">
        

      <h1 id="clustering-reference">Clustering Reference</h1>

<p>A Qordoba cluster allows you to scale the system horizontally by adding more
machines to handle more incoming requests. They will all share the same
configuration since they point to the same database. Qordoba nodes pointing to the
<strong>same datastore</strong> will be part of the same Qordoba cluster.</p>

<p>You need a load-balancer in front of your Qordoba cluster to distribute traffic
across your available nodes.</p>

<h3 id="table-of-contents">Table of Contents</h3>

<ul>
<li><a href="#what-a-qordoba-cluster-does-and-doesnt-do">What a Qordoba cluster does and doesn&#39;t do</a></li>
<li><a href="#single-node-qordoba-clusters">Single node Qordoba clusters</a></li>
<li><a href="#multiple-nodes-qordoba-clusters">Multiple nodes Qordoba clusters</a></li>
<li><a href="#what-is-being-cached">What is being cached?</a></li>
<li><a href="#how-to-configure-database-caching">How to configure database caching?</a>

<ul>
<li>1. <a href="#1-db_update_frequency-default-5s">db_update_frequency</a></li>
<li>2. <a href="#2-db_update_propagation-default-0s">db_update_propagation</a></li>
<li>3. <a href="#3-db_cache_ttl-default-3600s">db_cache_ttl</a></li>
<li>4. <a href="#4-when-using-cassandra">When using Cassandra</a></li>
</ul></li>
<li><a href="#interacting-with-the-cache-via-the-admin-api">Interacting with the cache via the Admin API</a>

<ul>
<li><a href="#inspect-a-cached-value">Inspect a cached value</a></li>
<li><a href="#purge-a-cached-value">Purge a cached value</a></li>
<li><a href="#purge-a-nodes-cache">Purge a node&#39;s cache</a></li>
</ul></li>
</ul>

<h3 id="what-a-qordoba-cluster-does-and-doesnt-do">What a Qordoba cluster does and doesn&#39;t do</h3>

<p><strong>Having a Qordoba cluster does not mean that your clients traffic will be
load-balanced across your Qordoba nodes out of the box.</strong> You still need a
load-balancer in front of your Qordoba nodes to distribute your traffic. Instead,
a Qordoba cluster means that those nodes will share the same configuration.</p>

<p>For performance reasons, Qordoba avoids database connections when proxying
requests, and caches the contents of your database in memory. The cached
entities include APIs, Consumers, Plugins, Credentials, etc... Since those
values are in memory, any change made via the Admin API of one of the nodes
needs to be propagated to the other nodes.</p>

<p>This document describes how those cached entities are being invalidated and how
to configure your Qordoba nodes for your use case, which lies somewhere between
performance and consistency.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="single-node-qordoba-clusters">Single node Qordoba clusters</h3>

<p>A single Qordoba node connected to a database (Cassandra or PostgreSQL) creates a
Qordoba cluster of one node. Any changes applied via the Admin API of this node
will instantly take effect. Example:</p>

<p>Consider a single Qordoba node <code>A</code>. If we delete a previously registered API:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X DELETE http://127.0.0.1:8001/apis/test-api
</code></pre></div>
<p>Then any subsequent request to <code>A</code> would instantly return <code>404 Not Found</code>, as
the node purged it from its local cache:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i http://127.0.0.1:8000/test-api
</code></pre></div>
<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="multiple-nodes-qordoba-clusters">Multiple nodes Qordoba clusters</h3>

<p>In a cluster of multiple Qordoba nodes, other nodes connected to the same database
would not instantly be notified that the API was deleted by node <code>A</code>.  While
the API is <strong>not</strong> in the database anymore (it was deleted by node <code>A</code>), it is
<strong>still</strong> in node <code>B</code>&#39;s memory.</p>

<p>All nodes perform a periodic background job to synchronize with changes that
may have been triggered by other nodes. The frequency of this job can be
configured via:</p>

<ul>
<li><a href="/docs/0.2.x/configuration/#db_update_frequency">db_update_frequency</a> (default: 5 seconds)</li>
</ul>

<p>Every <code>db_update_frequency</code> seconds, all running Qordoba nodes will poll the
database for any update, and will purge the relevant entities from their cache
if necessary.</p>

<p>If we delete an API from node <code>A</code>, this change will not be effective in node
<code>B</code> until node <code>B</code>s next database poll, which will occur up to
<code>db_update_frequency</code> seconds later (though it could happen sooner).</p>

<p>This makes Qordoba clusters <strong>eventually consistent</strong>.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="what-is-being-cached">What is being cached?</h3>

<p>All of the core entities such as APIs, Plugins, Consumers, Credentials are
cached in memory by Qordoba and depend on their invalidation via the polling
mechanism to be updated.</p>

<p>Additionally, Qordoba also caches <strong>database misses</strong>. This means that if you
configure an API with no plugin, Qordoba will cache this information. Example:</p>

<p>On node <code>A</code>, we add an API:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># node A</span>
<span class="gp">$ </span>curl -X POST http://127.0.0.1:8001/apis <span class="se">\</span>
    --data <span class="s2">"name=example"</span> <span class="se">\</span>
    --data <span class="s2">"upstream_url=http://example.com"</span> <span class="se">\</span>
    --data <span class="s2">"uris=example"</span>
</code></pre></div>
<p>A request to the Proxy port of both node <code>A</code> and <code>B</code> will cache this API, and
the fact that no plugin is configured on it:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># node A</span>
<span class="gp">$ </span>curl http://127.0.0.1:8000/example
HTTP 200 OK
...
</code></pre></div><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># node B</span>
<span class="gp">$ </span>curl http://127.0.0.2:8000/example
HTTP 200 OK
...
</code></pre></div>
<p>Now, say we add a plugin to this API via node <code>A</code>&#39;s Admin API:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># node A</span>
<span class="gp">$ </span>curl -X POST http://127.0.0.1:8001/apis/example/plugins <span class="se">\</span>
    --data <span class="s2">"name=example-plugin"</span>
</code></pre></div>
<p>Because this request was issued via node <code>A</code>&#39;s Admin API, node <code>A</code> will locally
invalidate its cache and on subsequent requests, it will detect that this API
has a plugin configured.</p>

<p>However, node <code>B</code> hasn&#39;t run a database poll yet, and still caches that this
API has no plugin to run. It will be so until node <code>B</code> runs its database
polling job.</p>

<p><strong>Conclusion</strong>: all CRUD operations trigger cache invalidations. Creation
(<code>POST</code>, <code>PUT</code>) will invalidate cached database misses, and update/deletion
(<code>PATCH</code>, <code>DELETE</code>) will invalidate cached database hits.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="how-to-configure-database-caching">How to configure database caching?</h3>

<p>You can configure 3 properties in the Qordoba configuration file, the most
important one being <code>db_update_frequency</code>, which determine where your Qordoba
nodes stand on the performance vs consistency trade off.</p>

<p>Qordoba comes with default values tuned for consistency, in order to let you
experiment with its clustering capabilities while avoiding &quot;surprises&quot;. As you
prepare a production setup, you should consider tuning those values to ensure
that your performance constraints are respected.</p>

<h4 id="1-db_update_frequency-default-5s">1. <a href="/docs/0.2.x/configuration/#db_update_frequency">db_update_frequency</a> (default: 5s)</h4>

<p>This value determines the frequency at which your Qordoba nodes will be polling
the database for invalidation events. A lower value will mean that the polling
job will be executed more frequently, but that your Qordoba nodes will keep up
with changes you apply. A higher value will mean that your Qordoba nodes will
spend less time running the polling jobs, and will focus on proxying your
traffic.</p>

<p><strong>Note</strong>: changes propagate through the cluster in up to <code>db_update_frequency</code>
seconds.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h4 id="2-db_update_propagation-default-0s">2. <a href="/docs/0.2.x/configuration/#db_update_propagation">db_update_propagation</a> (default: 0s)</h4>

<p>If your database itself is eventually consistent (ie: Cassandra), you <strong>must</strong>
configure this value. It is to ensure that the change has time to propagate
across your database nodes. When set, Qordoba nodes receiving invalidation events
from their polling jobs will delay the purging of their cache for
<code>db_update_propagation</code> seconds.</p>

<p>If a Qordoba node connected to an eventual consistent database was not delaying
the event handling, it could purge its cache, only to cache the non-updated
value again (because the change hasn&#39;t propagated through the database yet)!</p>

<p>You should set this value to an estimate of the amount of time your database
cluster takes to propagate changes.</p>

<p><strong>Note</strong>: when this value is set, changes propagate through the cluster in
up to <code>db_update_frequency + db_update_propagation</code> seconds.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h4 id="3-db_cache_ttl-default-3600s">3. <a href="/docs/0.2.x/configuration/#db_cache_ttl">db_cache_ttl</a> (default: 3600s)</h4>

<p>The time (in seconds) for which Qordoba will cache database entities (both hits
and misses). This Time-To-Live value acts as a safeguard in case a Qordoba node
misses an invalidation event, to avoid it from running on stale data for too
long. When the TTL is reached, the value will be purged from its cache, and the
next database result will be cached again.</p>

<p>You can configure your cache to not invalidate data based on this TTL, by
disabling it. To disable it, set this value to <code>0</code>. But be wary: if a Qordoba
node misses an invalidation event for any reason, it might run with a stale
value in its cache for an undefined amount of time, until the cache is
manually purged, or the node is restarted.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h4 id="4-when-using-cassandra">4. When using Cassandra</h4>

<p>If you use Cassandra as your Qordoba database, you <strong>must</strong> set
<a href="/docs/0.2.x/configuration/#db_update_propagation">db_update_propagation</a> to a non-zero value. Since
Cassandra is eventually consistent by nature, this will ensure that Qordoba nodes
do not prematurely invalidate their cache, only to fetch and catch a
not up-to-date entity again. Qordoba will present you a warning logs if you did
not configure this value when using Cassandra.</p>

<p>Additionally, you might want to configure <code>cassandra_consistency</code> to a value
like <code>QUORUM</code> or <code>LOCAL_QUORUM</code>, to ensure that values being cached by your
Qordoba nodes are up-to-date values from your database.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="interacting-with-the-cache-via-the-admin-api">Interacting with the cache via the Admin API</h3>

<p>If for some reason, you wish to investigate the cached values, or manually
invalidate a value cached by Qordoba (a cached hit or miss), you can do so via the
Admin API <code>/cache</code> endpoint.</p>

<h4 id="inspect-a-cached-value">Inspect a cached value</h4>

<h5 id="endpoint">Endpoint</h5>

<div class="endpoint get">/cache/{cache_key}</div>

<h5 id="response">Response</h5>

<p>If a value with that key is cached:</p>
<div class="highlight"><pre><code class="language-" data-lang="">HTTP 200 OK
...
{
    ...
}
</code></pre></div>
<p>Else:</p>
<div class="highlight"><pre><code class="language-" data-lang="">HTTP 404 Not Found
</code></pre></div>
<p><strong>Note</strong>: retrieving the <code>cache_key</code> for each entity being cached by Qordoba is
currently an undocumented process. Future versions of the Admin API will make
this process easier.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h4 id="purge-a-cached-value">Purge a cached value</h4>

<h5 id="endpoint">Endpoint</h5>

<div class="endpoint delete">/cache/{cache_key}</div>

<h5 id="response">Response</h5>
<div class="highlight"><pre><code class="language-" data-lang="">HTTP 204 No Content
...
</code></pre></div>
<p><strong>Note</strong>: retrieving the <code>cache_key</code> for each entity being cached by Qordoba is
currently an undocumented process. Future versions of the Admin API will make
this process easier.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h4 id="purge-a-nodes-cache">Purge a node&#39;s cache</h4>

<h5 id="endpoint">Endpoint</h5>

<div class="endpoint delete">/cache</div>

<h5 id="response">Response</h5>
<div class="highlight"><pre><code class="language-" data-lang="">HTTP 204 No Content
</code></pre></div>
<p><strong>Note</strong>: be wary of using this endpoint on a warm, production running node.
If the node is receiving a lot of traffic, purging its cache at the same time
will trigger many requests to your database, and could cause a
<a href="https://en.wikipedia.org/wiki/Cache_stampede">dog-pile effect</a>.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>


      </div>
    </div>
  </div>
</div>


    
  <!-- section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>

    <div class="row">
      <div class="one-half column offset-by-three">

      </div>
    </div>
  </div>
</section -->


<footer class="marketing-footer--light-gray">
  <section>
    <ul>
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/qordobalogoblue.png" alt="Qordoba" >
        </div>
      </li>
      <li>
        <nav>
          <h4>Use Cases</h4>
          <ul>
            <li><a href="#">Strings Management</a></li>
            <li><a href="#">Content AI</a></li>
            <li><a href="#">Localization</a></li>
            <li><a href="#">Persona Based Content</a></li>

          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Support</h4>
          <ul>
            <li><a href="https://support.qordoba.com/">Knowledge Base</a></li>
            <li><a href="https://dev.qordoba.com/glossary/">Glossary of Qordoba Terms</a></li>
            <li><a href="https://www.youtube.com/channel/UC_ZMLcfNI1XQnV8frpeFsgA">Webinars</a></li>
            <li><a href="https://www.youtube.com/channel/UC_ZMLcfNI1XQnV8frpeFsgA">Tutorials</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Network Status</h4>
          <ul>
            <li><a href="https://status.qordoba.com/">APIs</a></li>
            <li><a href="https://status.qordoba.com/">SmartSuggest</a></li>
            <li><a href="https://status.qordoba.com/">Emotion and Tone</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Qordoba. 2018</span>
      </li>
      <li>
        <div class="social-link">
          <a href="https://github.com/Qordobacode" title="Github"><i aria-label="Github" class="fa fa-github" aria-hidden="true"></i></a></div>
        <div class="social-link">
          <a href="https://twitter.com/qordoba" title="Twitter"><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
      </li>
    </ul>
  </section>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };
  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];
      if (typeof header.id !== "undefined" && header.id !== "") {
        header.prepend(anchorForId(header.id));
      }
    }
  };
  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      console.log("here")
      var contentBlock = document.getElementById("documentation");
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1529002709"></script>

    <div id="fb-root"></div>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load(){
          var s = document.createElement('script'); s.type = 'text/javascript';
          s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
        }
        if(window.attachEvent) { window.attachEvent('onload', async_load); }
        else { window.addEventListener('load', async_load, false); }
      })();
    </script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

    <script type="text/javascript" src="//mashape.github.io/notification-bar/embed.js" async defer></script>
  </body>
</html>
